<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/index.ejs.css">

</head>

<body>
    <div class="container-fluid px-1 px-sm-3 py-5 mx-auto">
        <div class="row d-flex justify-content-center">
            <div class="row card0">
                <div class="card1 col-lg-8 col-md-7">
                    <small><a href="../">the.weather</a> </small> <small></small>
                    <div class="text-center news-outer">
                        <div class="newsinner">
                            
                        </div>

                        <!-- <img class="image mt-5" src="https://source.unsplash.com/random/?<%= countryCode,city  %>"> -->
                    </div>
                    <div class="row px-3 mt-5 mb-3">
                        <h1 class="large-font mr-3">
                            <%= temp %>&#176;</h1>
                        <div class="d-flex flex-column mr-3">
                            <h2 class="mt-3 mb-0">
                                <%= city  %><span>, <%= countryCode %> </span>
                            </h2>
                            <small> <span id="time" ></span> - <span id="dayName"></span>, <span id="day"></span> <span id="months"></span> <span id="year"></span></small>
                        </div>
                        <div class="d-flex flex-column text-center">
                            <div style="height: 51px; padding-top: 6px;">
                                <img src="https://openweathermap.org/img/wn/<%= iconCode %>@2x.png" width="51" alt="">
                            </div>
                            <small style="padding-top: 2px;"><%= WeatherStatus %></small>
                        </div>
                    </div>
                </div>
                <div class="card2 col-lg-4 col-md-5">
                    <div class="row px-3">
                        <input type="text" name="location" id="location" placeholder="Another location" class="mb-5">
                        <div id="search" onclick="search()" class="fa fa-search mb-5 mr-0 text-center"></div>
                        
                    </div>
                    <div class="mr-5">
                        <p class="light-text suggestion"><a href="/city/Kolkata">Kolkata</a></p>
                        <p class="light-text suggestion"><a href="/city/Kohima">Kohima</a></p>
                        <p class="light-text suggestion"><a href="/city/New Delhi">New Delhi</a></p>
                        <p class="light-text suggestion"> <a href="/city/Punjab">Punjab</a> </p>
                        <p class="light-text suggestion"> <a href="/city/Goa">Goa</a> </p>

                        <div class="line my-5"></div>

                        <p>Weather Details</p>
                        <div class="row px-3">
                            <p class="light-text">Cloudy</p>
                            <p class="ml-auto">12%</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Humidity</p>
                            <p class="ml-auto">
                                <%= humidity %>%</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Wind</p>
                            <p class="ml-auto">
                                <%= windSpeed %> m/s</p>
                        </div>
                        <div class="row px-3">
                            <p class="light-text">Visibility</p>
                            <p class="ml-auto">
                                <%= visibility %> Km</p>
                        </div>
                        <div class="line mt-3"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    timer();

    function timer() {
        var currentTime = new Date()
        var hours = currentTime.getHours()
        var minutes = currentTime.getMinutes()
        var sec = currentTime.getSeconds()
        if (minutes < 10) {
            minutes = "0" + minutes
        }
        if (sec < 10) {
            sec = "0" + sec
        }
        var t_str = hours + ":" + minutes + ":" + sec + " ";
        if (hours > 11) {
            t_str += "PM";
        } else {
            t_str += "AM";
        }
        document.getElementById('time').innerHTML = t_str;
        setTimeout(timer, 1000);
    }

    // Months
    const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    const _months = new Date();
    let month = months[_months.getMonth()];
    document.getElementById("months").innerHTML = month;

    // Day number
    const dayNumber = new Date();
    document.getElementById("day").innerHTML = dayNumber.getDate();

    // Full year
    const fullYear = new Date();
    document.getElementById("year").innerHTML = fullYear.getFullYear();

    // DayName
    const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

    const dayName = new Date();
    let day = days[dayName.getDay()];
    document.getElementById("dayName").innerHTML = day;


    function search() {
        var location = document.getElementById("location").value;
        window.location.href = "/city/" + location;
    }
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

</html>