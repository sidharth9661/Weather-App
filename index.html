<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="the.WeatherApp - Using City Name you can get weather informations. Created By Prashant Kumar">
    <meta name="keywords" content="HTML, CSS, JavaScript, NODEJS">
    <meta name="author" content="Prashant Kumar">
    <title>the.Weather</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- fontawesome link -->
    <link href="https://pro.fontawesome.com/releases/v5.15.4/css/all.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800&family=PT+Sans+Narrow&family=Rubik+Moonrocks&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800&family=PT+Sans+Narrow&family=Splash&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body onload="videoUrl()">
    <header class="video-header">
        <video disablePictureInPicture id="videoLink" src="" autoplay loop muted></video>
        <div class="viewport-header">
            <h1>
                The
                <span>Weather</span>
                <p style="font-size: 18px;letter-spacing: 1vw; line-height: 1.8;">Scroll <br><i class="fas fa-chevron-down"></i></p>
            </h1>

        </div>
    </header>

    <main>
        <form action="./" method="post">
            <input type="text" name="city" id="cityName" placeholder="Your City Name">
            <p id="link"></p>
            <a href="https://www.linkedin.com/in/sidharth-pansari-7aab5a207/">
                <p id="credit">Developed using Node and Express JS.</p>
            </a>
        </form>
    </main>

    <div id="circle"></div>
</body>
<script type="text/javascript">
    var viewportHeader = document.querySelector(".viewport-header");

    document.body.addEventListener("scroll", function(event) {
        var opacity = (document.body.offsetHeight - document.body.scrollTop) / document.body.offsetHeight;
        var scale = (document.body.offsetHeight - document.body.scrollTop) / document.body.offsetHeight;
        document.documentElement.style.setProperty('--headerOpacity', opacity);
        document.documentElement.style.setProperty('--headerScale', scale);
        document.getElementsByName("fa-chevron-down").style.Opacity = "0.1";
    });

    // document.addEventListener("keypress", function(event) {
    //     //console.log(event);
    //     var city = document.getElementById("cityName").value;
    //     document.getElementById("link").innerHTML = city;
    // });


    $(document).ready(function() {
        setInterval(function() {
            var city = document.getElementById("cityName").value;
            document.getElementById("link").innerHTML = city;

        }, 100);
    });

    function videoUrl() {
        var videoNo = 1;
        document.getElementById("videoLink").src = "/video/video-" + videoNo + ".mp4";
    }

    setInterval(() => {
        var videoNo = Math.floor((Math.random() * 7) + 1);
        document.getElementById("videoLink").src = "/video/video-" + videoNo + ".mp4";
    }, 1000 * 60);
</script>

</html>